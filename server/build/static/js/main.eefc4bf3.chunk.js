(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{161:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(14),s=a.n(r),i=(a(69),a(12)),o=a.n(i),l=a(21),u=a(5),d=(a(71),a(42),a(22)),j=a.n(d),h=a(28),b=a(41),f=a(40),p=a.n(f),m=a(1),O=[{dataField:"filename",text:"Filename"}],x=[{dataField:"id",text:"Id"},{dataField:"filename",text:"Filename"},{dataField:"from",text:"From (seconds)"},{dataField:"to",text:"To (seconds)"}];function v(e,t,a){this.filename=e,this.from=t,this.to=a}var g=function(e){var t=Object(n.useState)(null),a=Object(u.a)(t,2),c=a[0],r=a[1],s=Object(n.useState)(null),i=Object(u.a)(s,2),d=i[0],f=i[1],g=Object(n.useState)(!1),F=Object(u.a)(g,2),w=F[0],y=F[1],S=Object(n.useState)([{filename:"Loading.."}]),k=Object(u.a)(S,2),T=k[0],C=k[1],A=Object(n.useState)(null),D=Object(u.a)(A,2),H=D[0],M=D[1],E=Object(n.useState)(null),N=Object(u.a)(E,2),R=N[0],P=N[1],V=Object(n.useState)(""),B=Object(u.a)(V,2),J=B[0],L=B[1];function I(){return(I=Object(l.a)(o.a.mark((function t(){var a,n,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=!0,t.next=3,e.loadAvailableMediaFiles();case 3:(n=t.sent).data&&(c=[],n.data.forEach((function(e){c.push({filename:e})})),a&&C(c)),a=!1;case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(n.useEffect)((function(){console.log("use effect"),function(){I.apply(this,arguments)}(),Q()}),[]);var q={onClick:function(){var e=Object(l.a)(o.a.mark((function e(t,a,n){var c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=a.filename,console.log("video filename: "+c),e.next=4,z(c);case 4:s=e.sent,console.log("duration: "+s),f(c),r(s),y(!0);case 9:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}()};function z(e){return G.apply(this,arguments)}function G(){return(G=Object(l.a)(o.a.mark((function t(a){var n,c;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n={filename:a},console.log("get media duration route--\x3e  "+e.getMediaDurationRoute),t.next=5,j.a.post("http://localhost:3000/".concat(e.getMediaDurationRoute),n);case 5:return c=t.sent,t.abrupt("return",c.data);case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})))).apply(this,arguments)}function K(){y(!1)}function Q(){var t=[],a=0;e.mediaToStream.forEach((function(e){var n={id:a,filename:e.filename,from:e.from,to:e.to};a++,t.push(n)})),L(t)}return Object(m.jsxs)("div",{children:[Object(m.jsxs)(h.a,{show:w,onHide:K,children:[Object(m.jsx)(h.a.Header,{children:Object(m.jsx)("h3",{children:d})}),Object(m.jsxs)(h.a.Body,{children:[Object(m.jsxs)("p",{children:["Total media duration: ",c," seconds"]}),Object(m.jsx)("label",{children:"From (seconds):"}),Object(m.jsx)("input",{className:"modal-input-from",type:"number",min:"0",max:c,onChange:function(e){M(e.target.value)}}),Object(m.jsx)("br",{}),Object(m.jsx)("label",{children:"To (seconds):"}),Object(m.jsx)("input",{className:"modal-input-to",type:"number",min:"0",max:c,onChange:function(e){P(e.target.value)}})]}),Object(m.jsxs)(h.a.Footer,{children:[Object(m.jsx)(b.a,{variant:"secondary",onClick:K,children:"Close"}),Object(m.jsx)(b.a,{variant:"primary",onClick:function(){var t=!1,a=parseFloat(H),n=parseFloat(R),r=parseFloat(c);if(a>=r?(t=!0,alert("The 'From' duration should be less than the total video duration")):n>r?(t=!0,alert("The 'To' duration should be less than or equal to the total video duration")):a>=n?(t=!0,alert("The 'From' duration should be less than the 'To' duration")):null!=H&&null!=R||(t=!0,alert("Please enter values into 'From' and 'To' fields")),!t){var s=new v(d,H,R);e.mediaToStream.push(s),Q(),y(!1)}},children:"Add to stream"})]})]}),Object(m.jsx)("div",{class:"container",children:Object(m.jsxs)("div",{class:"row",children:[Object(m.jsxs)("div",{class:"col-sm",children:[Object(m.jsxs)("h1",{children:[" ",e.tableOneHeading," "]}),Object(m.jsx)(p.a,{classes:"table-sm",keyField:"filename",data:T,columns:O,bootstrap4:!0,hover:!0,rowEvents:q})]}),Object(m.jsxs)("div",{class:"col-sm",children:[Object(m.jsxs)("h1",{children:[" ",e.tableTwoHeading]}),Object(m.jsx)(p.a,{classes:"table-sm",keyField:"id",data:J,columns:x,bootstrap4:!0})]})]})})]})},F=a(61),w=a(62),y=function(){var e=Object(n.useRef)([]),t=Object(n.useRef)([]),a=Object(n.useState)(!1),c=Object(u.a)(a,2),r=c[0],s=c[1],i=Object(n.useState)(""),d=Object(u.a)(i,2),h=d[0],f=d[1],p=Object(n.useState)(!1),O=Object(u.a)(p,2),x=O[0],v=O[1],y=Object(n.useState)(!1),k=Object(u.a)(y,2),C=k[0],A=k[1],D=Object(n.useState)(!1),H=Object(u.a)(D,2),M=H[0],E=H[1];return Object(m.jsx)("div",{children:!0===r?Object(m.jsx)("div",{children:Object(m.jsx)("div",{className:"container d-flex flex-column min-vh-100 justify-content-center",children:Object(m.jsx)("div",{className:"row",children:Object(m.jsxs)("div",{className:"col",children:[Object(m.jsx)("div",{className:"text-center",children:Object(m.jsx)(F.a,{src:"http://localhost:3000/getStreamFile",autoPlay:!0,controls:!0,width:"60%",height:"auto"})}),Object(m.jsx)("div",{className:"text-center",children:Object(m.jsx)(b.a,{onClick:function(){s(!1)},children:" Back "})})]})})})}):Object(m.jsxs)("div",{children:[Object(m.jsx)(g,{loadAvailableMediaFiles:S,tableOneHeading:"Available video files",tableTwoHeading:"Video files added to stream",getMediaDurationRoute:"getVideoFileDuration",mediaToStream:e.current}),Object(m.jsx)(g,{loadAvailableMediaFiles:T,tableOneHeading:"Available audio files",tableTwoHeading:"Audio files added to stream",getMediaDurationRoute:"getAudioFileDuration",mediaToStream:t.current}),Object(m.jsx)("div",{class:"row",children:Object(m.jsxs)("div",{class:"col text-center",children:[Object(m.jsx)(b.a,{disabled:C,variant:"primary",size:"lg",onClick:function(){return N.apply(this,arguments)},children:"Create stream"}),Object(m.jsx)("div",{children:x?Object(m.jsx)("p",{children:h}):null}),Object(m.jsx)("div",{children:M?Object(m.jsx)(w.ClipLoader,{loading:!0}):null})]})})]})});function N(){return(N=Object(l.a)(o.a.mark((function a(){var n,c,r;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(0===e.current.length){a.next=22;break}return A(!0),E(!0),v(!0),n=[],e.current.forEach((function(e){var t={filename:e.filename,from:e.from,to:e.to};n.push(t)})),c=[],t.current.forEach((function(e){var t={filename:e.filename,from:e.from,to:e.to};c.push(t)})),a.next=10,j.a.post("http://localhost:3000/createVideoClipsJson",n);case 10:return a.sent,a.next=13,j.a.post("http://localhost:3000/createAudioClipsJson",c);case 13:return a.sent,f("this will take some time.. please wait"),a.next=17,j.a.get("http://localhost:3000/createStream");case 17:r=a.sent,f("Create stream status: "+r.data),"success"===r.data&&(v(!1),A(!1),E(!1),s(!0)),a.next=23;break;case 22:alert("Please add some videos to the stream");case 23:case"end":return a.stop()}}),a)})))).apply(this,arguments)}};function S(){return k.apply(this,arguments)}function k(){return(k=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("http://localhost:3000/getVideoFiles");case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log("error occured during getVideoFilesData() call from client"),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function T(){return C.apply(this,arguments)}function C(){return(C=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("http://localhost:3000/getAudioFiles");case 3:return t=e.sent,e.abrupt("return",t);case 7:e.prev=7,e.t0=e.catch(0),console.log("error occured during getAudioFilesData() call from client"),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,163)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;a(e),n(e),c(e),r(e),s(e)}))};s.a.render(Object(m.jsx)(c.a.StrictMode,{children:Object(m.jsx)(y,{})}),document.getElementById("root")),A()},69:function(e,t,a){},71:function(e,t,a){}},[[161,1,2]]]);
//# sourceMappingURL=main.eefc4bf3.chunk.js.map